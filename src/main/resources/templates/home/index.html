<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ì–ª–∞–≤–Ω–∞—è - –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <!-- –ù–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π CSS -->
  <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand" th:href="@{/}">
      <i class="fas fa-phone-alt me-2"></i>–¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫
    </a>

    <div class="navbar-nav ms-auto">
        <span class="navbar-text me-3" sec:authorize="isAuthenticated()">
          –í—ã –≤–æ—à–ª–∏ –∫–∞–∫: <span sec:authentication="name"></span>
        </span>
      <form th:action="@{/logout}" method="post" sec:authorize="isAuthenticated()">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button class="btn btn-outline-light btn-sm" type="submit">–í—ã–π—Ç–∏</button>
      </form>
      <a th:href="@{/login}" class="btn btn-outline-light btn-sm"
         sec:authorize="!isAuthenticated()">–í–æ–π—Ç–∏</a>
    </div>
  </div>
</nav>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="container mt-4">
  <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="jumbotron bg-light p-5 rounded">
        <h1 class="display-4">üìû –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h1>
        <p class="lead">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏</p>
        <hr class="my-4">
        <p>–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏, –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.</p>
        <a class="btn btn-primary btn-lg" th:href="@{/contacts}" role="button">
          –ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º
        </a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="card">
        <div class="card-body text-center">
          <h2><i class="fas fa-users text-primary"></i></h2>
          <h3 th:text="${totalContacts}">0</h3>
          <p class="text-muted">–í—Å–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤</p>
          <a th:href="@{/contacts}" class="btn btn-outline-primary">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å</a>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card">
        <div class="card-body text-center">
          <h2><i class="fas fa-sitemap text-success"></i></h2>
          <h3 th:text="${totalDepartments}">0</h3>
          <p class="text-muted">–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π</p>
          <a th:href="@{/contacts}" class="btn btn-outline-success">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h5>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h5>
        </div>
        <div class="card-body">
          <div class="d-grid gap-2 d-md-flex">
            <a th:href="@{/contacts/new}" class="btn btn-success me-2"
               sec:authorize="hasRole('ADMIN')">
              <i class="fas fa-plus me-1"></i>–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
            </a>
            <a th:href="@{/contacts}" class="btn btn-primary">
              <i class="fas fa-list me-1"></i>–í—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>